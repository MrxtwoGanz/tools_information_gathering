#COMPILE BY Mr X - Two Ganz
#jangan di ubah nantik error :v
#Subscribe Channel Youtube Gua Slurrr !
#Youtube : Mr X - Two Ganz
#Mau source code ?
#Udah Langsung Inbox Gua Di > 083847629920

import base64
exec(base64.b64decode("IyEgL3Vzci9iaW4vZW52IHB5dGhvbjMKIyBBdXRob3IgYnkgQE1yIFggLSBUd28gR2FuegojIFN1cHBvcnQgbWUgd2l0aCB5b3V0dWJlIGNoYW5uZWwgaHR0cHM6Ly9tLnlvdXR1YmUuY29tL2NoYW5uZWwvVUNONkVKRThwWmJBUF9ZZC1PR2VGTnRRCiMgRGlzY2xhaW1lcjogcGxlYXNlIGRvbnQgcmUtZWRpdCBvciByZWNvZGUgdGhlIG9yaWdpbmFsIHNvdXJjZSBjb2RlICEKIyBMYXN0IHVwZGF0ZTogMS8wNS8yMDIxIC0gdmVyc2lvbiAxLjAKCmltcG9ydCBvcywgcmUsIHN5cywgdGltZSwganNvbiwgcmVxdWVzdHMsIHRleHR3cmFwLCBzb2NrZXQKZnJvbSBlbWFpbF92YWxpZGF0b3IgaW1wb3J0IHZhbGlkYXRlX2VtYWlsLCBFbWFpbE5vdFZhbGlkRXJyb3IKZnJvbSBnb29nbGVzZWFyY2ggaW1wb3J0IHNlYXJjaApmcm9tIGx4bWwuaHRtbCBpbXBvcnQgZnJvbXN0cmluZwpmcm9tIGdldHBhc3MgaW1wb3J0IGdldHBhc3MKZnJvbSBzaHV0aWwgaW1wb3J0IHdoaWNoCgpyID0gIlwwMzNbMzFtIgpnID0gIlwwMzNbMzJtIgp5ID0gIlwwMzNbMzNtIgpiID0gIlwwMzNbMzRtIgpwID0gIlwwMzNbMzVtIgpkID0gIlwwMzNbMjszN20iCncgPSAiXDAzM1swbSIKClcgPSBmInt3fVwwMzNbMTs0N20iClIgPSBmInt3fVwwMzNbMTs0MW0iCkcgPSBmInt3fVwwMzNbMTs0Mm0iClkgPSBmInt3fVwwMzNbMTs0M20iCkIgPSBmInt3fVwwMzNbMTs0NG0iCgpob21lID0gb3MuZ2V0ZW52KCJIT01FIikKY29raWZpbGUgPSBob21lICsgIi8uY29va2llcyIKc3BhY2UgPSAiICAgICAgICAgIgpsaW5lcyA9IHNwYWNlICsgIi0iKjQ0CmFwaWhhY2sgPSAiaHR0cHM6Ly9hcGkuaGFja2VydGFyZ2V0LmNvbS97fS8/cT17fSIKbWJhc2ljID0gImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbXt9IgpncmFwaCA9ICJodHRwczovL2dyYXBoLmZhY2Vib29rLmNvbXt9IgpoZWFkZXJzID0geyJVc2VyLUFnZW50IjoiT3BlcmEvOS44MCAoSjJNRS9NSURQOyBPcGVyYSBNaW5pLzkuODAgKFM2MDsgU3ltYk9TOyBPcGVyYSBNb2JpLzIzLjMzNDsgVTsgaWQpIFByZXN0by8yLjUuMjUgVmVyc2lvbi8xMC41NCJ9CmxvZ28gPSBmIiIie2J9CiAgICAgICAgICAgICAgICAgICAgICAgICAgX2N5cXljXwogICAgICAgICAgICAgICAgICAgICAgOj4zcUtLS0tLS0txMz46CiAgICAgICAgICAgICAgICAgICc7Q3BLS0tLS0tLS0tLS0tLS0twQzsnCiAgICAgICAgICAgICAgLSJpUEtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUGkiLQogICAgICAgICAgYH52XUtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tddn5gCiAgICAgICAscndLS0tLS0tLS0tLS0tLUHY7LDonLSc6LDt2UEtLS0tLS0tLS0tLS0t3ciwKICAgICAgIUtLS0tLS0tLS0tLS0tLSy8gICAgICAgICAgICAgIUtLS0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLS0tLZiAgICAgICAgICAgICAgIENLS0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLS0twLSAgICAgICAgICAgICAgIC1xS0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLS0s+IiAgICAgICAgICAgICAgICJcS0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0t3OyxfJy0gICAgICAgICAgICAgICAgICAgLi06LCJ3S0tLS0tLSyEKICAgICAgIUtLS0tLS0tLaGkqOyIgICAgICAgICAgICAgICAgICAgIjsqaWhLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLS0s7ICAgICAgICAgICAgICAgICA7S0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLS0syPicgICAgICAgICAgICAgJz4yS0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLS0tLS1ogICAgICAgICAgICAgWktLS0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLS0tLSzUgICAgICAgICAgICAgZUtLS0tLS0tLS0tLS0tLSyEKICAgICAgIUtLS0tLS0tLS0tLcUM7LSAgICAgICAgICAgICAgIC07Q3FLS0tLS0tLS0tLSyEKICAgICAgPEtLS0tLS0tLa3IsICAgICAgICAgICAgICAgICAgICAgICAsclNLS0tLS0tLSzwKICAgICAgIC0idl1xajstICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtO2pxXXYiLQogICAgICAgICAgICAgICAgICAgICAgIHt3fVsgUy5JLkcuSS5UIF17Yn0KICAgICAgICAgICB7ZH1TaW1wbGUgSW5mb3JtYXRpb24gR2F0aGVyaW5nIFRvb2xraXR7d30KICAgICAgICAgICAgICAge2R9QXV0aG9yIGJ5IHt3fXtyfUBNciBYIC0gVHdvIEdhbnp7d30iIiIKCmRlZiBtZW51KCk6CiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50KGxvZ28pCiAgICBwcmludChmIiIiCiAgICAgICAgIHtXfVwwMzNbMjszMG0gQ2hvb3NlIG51bWJlciBvciB0eXBlIGV4aXQgZm9yIGV4aXRpbmcge3d9CgogICAgICAgIHt3fXtifSAgMDF7d30gVXNlcnJlY29uICAgIHtkfSBVc2VybmFtZSByZWNvbm5haXNzYW5jZSAKICAgICAgICB7d317Yn0gIDAye3d9IEZhY2VkdW1wZXIgICB7ZH0gRHVtcCBmYWNlYm9vayBpbmZvcm1hdGlvbgogICAgICAgIHt3fXtifSAgMDN7d30gTWFpbGZpbmRlciAgIHtkfSBGaW5kIGVtYWlsIHdpdGggbmFtZQogICAgICAgIHt3fXtifSAgMDR7d30gR29kb3JrZXIgICAgIHtkfSBEb3JraW5nIHdpdGggZ29vZ2xlIHNlYXJjaAogICAgICAgIHt3fXtifSAgMDV7d30gUGhvbmVpbmZvICAgIHtkfSBQaG9uZSBudW1iZXIgaW5mb3JtYXRpb24KICAgICAgICB7d317Yn0gIDA2e3d9IEROU0xvb2t1cCAgICB7ZH0gRG9tYWluIG5hbWUgc3lzdGVtIGxvb2t1cAogICAgICAgIHt3fXtifSAgMDd7d30gV2hvaXNsb29rdXAgIHtkfSBJZGVudGlmeSB3aG8gaXMgb24gZG9tYWluCiAgICAgICAge3d9e2J9ICAwOHt3fSBTdWJsb29rdXAgICAge2R9IFN1Ym5ldHdvcmsgbG9va3VwCiAgICAgICAge3d9e2J9ICAwOXt3fSBIb3N0ZmluZGVyICAge2R9IEZpbmQgaG9zdCBkb21haW4KICAgICAgICB7d317Yn0gIDEwe3d9IEROU2ZpbmRlciAgICB7ZH0gRmluZCBob3N0IGRvbWFpbiBuYW1lIHN5c3RlbQogICAgICAgIHt3fXtifSAgMTF7d30gUklQbG9va3VwICAgIHtkfSBSZXZlcnNlIElQIGxvb2t1cAogICAgICAgIHt3fXtifSAgMTJ7d30gSVBsb2NhdGlvbiAgIHtkfSBJUCB0byBsb2NhdGlvbiB0cmFja2VyCiAgICAgICAgIiIiKQogICAgbWFpbl9tZW51KCkKCmRlZiBtYWluX21lbnUoKToKICAgIHdoaWxlIFRydWU6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBjbWQgPSBzdHIoaW5wdXQoZiJ7c3BhY2V9e3d9e2J9Pnt3fSBjaG9vc2U6e2J9ICIpKQogICAgICAgICAgICBpZiBpbnQobGVuKGNtZCkpIDwgNjoKICAgICAgICAgICAgICAgIGlmIGNtZCBpbiAoImV4aXQiLCJFeGl0Iik6IGV4aXQocitzcGFjZSsiKiBFeGl0aW5nICEiK3cpCiAgICAgICAgICAgICAgICBlbGlmIGNtZCBpbiAoIjEiLCIwMSIpOiB1c2VycmVjb24oKQogICAgICAgICAgICAgICAgZWxpZiBjbWQgaW4gKCIyIiwiMDIiKTogZmIuZmFjZWR1bXBlcigpCiAgICAgICAgICAgICAgICBlbGlmIGNtZCBpbiAoIjMiLCIwMyIpOiBtYWlsZmluZGVyKCkKICAgICAgICAgICAgICAgIGVsaWYgY21kIGluICgiNCIsIjA0Iik6IGdvZG9ya2VyKCkKICAgICAgICAgICAgICAgIGVsaWYgY21kIGluICgiNSIsIjA1Iik6IHBob25laW5mbygpCiAgICAgICAgICAgICAgICBlbGlmIGNtZCBpbiAoIjYiLCIwNiIpOiBpbmZvZ2EoImRuc2xvb2t1cCIpCiAgICAgICAgICAgICAgICBlbGlmIGNtZCBpbiAoIjciLCIwNyIpOiBpbmZvZ2EoIndob2lzIikKICAgICAgICAgICAgICAgIGVsaWYgY21kIGluICgiOCIsIjA4Iik6IGluZm9nYSgic3VibmV0Y2FsYyIpCiAgICAgICAgICAgICAgICBlbGlmIGNtZCBpbiAoIjkiLCIwOSIpOiBpbmZvZ2EoImhvc3RzZWFyY2giKQogICAgICAgICAgICAgICAgZWxpZiBjbWQgaW4gKCIxMCIpOiBpbmZvZ2EoIm10ciIpCiAgICAgICAgICAgICAgICBlbGlmIGNtZCBpbiAoIjExIik6IGluZm9nYSgicmV2ZXJzZWlwbG9va3VwIikKICAgICAgICAgICAgICAgIGVsaWYgY21kIGluICgiMTIiKTogaXBsb2NhdGlvbigpCiAgICAgICAgICAgICAgICBlbHNlOiBjb250aW51ZQogICAgICAgICAgICBlbHNlOiBjb250aW51ZQogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgZXhpdChmIntyfVxue3NwYWNlfSogQWJvcnRlZCAhIikKCmRlZiBpcGxvY2F0aW9uKCk6CiAgICBwcmludChmIntzcGFjZX17Yn0+e3d9IGxvY2FsIElQOiB7b3MucG9wZW4oJ2N1cmwgaWZjb25maWcuY28gLS1zaWxlbnQnKS5yZWFkbGluZSgpLnN0cmlwKCl9IikKICAgIHggPSBzdHIoaW5wdXQoZiJ7c3BhY2V9e2J9Pnt3fSBlbnRlciBJUDp7Yn0gIikpCiAgICBpZiB4LnNwbGl0KCIuIilbMF0uaXNudW1lcmljKCk6IHBhc3MKICAgIGVsc2U6IG1lbnUoKQogICAgcHJpbnQodytsaW5lcykKICAgIHJlcSA9IHJlcXVlc3RzLmdldCgiaHR0cHM6Ly9pcGluZm8uaW8vIit4KyIvanNvbiIpLmpzb24oKQogICAgdHJ5OiBpcCA9ICJJUDogIityZXFbImlwIl0KICAgIGV4Y2VwdCBLZXlFcnJvcjogaXAgPSAiIgogICAgdHJ5OiBjaXR5ID0gIkNJVFk6ICIrcmVxWyJjaXR5Il0KICAgIGV4Y2VwdCBLZXlFcnJvcjogY2l0eSA9ICIiCiAgICB0cnk6IGNvdW50cnkgPSAiQ09VTlRSWTogIityZXFbImNvdW50cnkiXQogICAgZXhjZXB0IEtleUVycm9yOiBjb3VudHJ5ID0gIiIKICAgIHRyeTogbG9jID0gIkxPQzogIityZXFbImxvYyJdCiAgICBleGNlcHQgS2V5RXJyb3I6IGxvYyA9ICIiCiAgICB0cnk6IG9yZyA9ICJPUkc6ICIrcmVxWyJvcmciXQogICAgZXhjZXB0IEtleUVycm9yOiBvcmcgPSAiIgogICAgdHJ5OiB0eiA9ICJUSU1FWk9ORTogIityZXFbInRpbWV6b25lIl0KICAgIGV4Y2VwdCBLZXlFcnJvcjogdHogPSAiIgogICAgeiA9IFtpcCwgY2l0eSwgY291bnRyeSwgbG9jLCBvcmcsIHR6XQogICAgZm9yIHJlcyBpbiB6OgogICAgICAgIHByaW50KGYie3NwYWNlfXtifS17d30ge3Jlc30iKQogICAgcHJpbnQodytsaW5lcykKICAgIGdldHBhc3Moc3BhY2UrInByZXNzIGVudGVyIGZvciBiYWNrIHRvIHByZXZpb3VzIG1lbnUgIikKICAgIG1lbnUoKQoKZGVmIGluZm9nYShvcHQpOgogICAgeCA9IHN0cihpbnB1dChmIntzcGFjZX17Yn0+e3d9IGVudGVyIGRvbWFpbiBvciBJUDp7Yn0gIikpCiAgICBpZiBub3QgeDogbWVudSgpCiAgICBpZiB4LnNwbGl0KCIuIilbMF0uaXNudW1lcmljKCk6IHggPSBzb2NrZXQuZ2V0aG9zdGJ5bmFtZSh4KQogICAgZWxzZTogcGFzcwogICAgcHJpbnQodytsaW5lcykKICAgIHJlcSA9IHJlcXVlc3RzLmdldChhcGloYWNrLmZvcm1hdChvcHQseCksc3RyZWFtPVRydWUpCiAgICBmb3IgcmVzIGluIHJlcS5pdGVyX2xpbmVzKCk6CiAgICAgICAgcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSB7cmVzLmRlY29kZSgndXRmLTgnKX0iKQogICAgcHJpbnQodytsaW5lcykKICAgIGdldHBhc3Moc3BhY2UrInByZXNzIGVudGVyIGZvciBiYWNrIHRvIHByZXZpb3VzIG1lbnUgIikKICAgIG1lbnUoKQoKZGVmIHBob25laW5mbygpOgogICAgbm8gPSBzdHIoaW5wdXQoZiJ7c3BhY2V9e2J9Pnt3fSBlbnRlciBudW1iZXI6e2J9ICIpKQogICAgaWYgbm90IG5vOiBtZW51KCkKICAgIHByaW50KHcrbGluZXMpCiAgICB1cmwgPSAiaHR0cHM6Ly9hcGkudmVyaXBob25lLmlvL3YyL3ZlcmlmeT9waG9uZT17fSZrZXk9NUYzRjJENjMwMEU0NDVERUE4ODY4NDA1MzE0NDk2NkMiCiAgICByZXEgPSByZXF1ZXN0cy5nZXQodXJsLmZvcm1hdChubykpCiAgICByZXMgPSBqc29uLmxvYWRzKHJlcS50ZXh0KQogICAgcHJpbnQoZiJ7c3BhY2V9e0J9IERPTkUge1J9IHtub30ge3d9IikKICAgIHRyeTogcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSBUeXBlICAgIDoge3l9e3Jlc1sncGhvbmVfdHlwZSddfXt3fSIpCiAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgIHRyeTogcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSBQcmVmaXggIDoge3l9e3Jlc1snY291bnRyeV9wcmVmaXgnXX17d30iKQogICAgZXhjZXB0IEtleUVycm9yOiBwYXNzCiAgICB0cnk6IHByaW50KGYie3NwYWNlfXtifS17d30gQ29kZSAgICA6IHt5fXtyZXNbJ2NvdW50cnlfY29kZSddfXt3fSIpCiAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgIHRyeTogcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSBDb3VudHJ5IDoge3l9e3Jlc1snY291bnRyeSddfXt3fSIpCiAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgIHRyeTogcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSBHbG9iYWwgIDoge3l9e3Jlc1snaW50ZXJuYXRpb25hbF9udW1iZXInXX17d30iKQogICAgZXhjZXB0IEtleUVycm9yOiBwYXNzCiAgICB0cnk6IHByaW50KGYie3NwYWNlfXtifS17d30gTG9jYWwgICA6IHt5fXtyZXNbJ2xvY2FsX251bWJlciddfXt3fSIpCiAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgIHRyeTogcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSBQcm92aWRlcjoge3l9e3Jlc1snY2FycmllciddfXt3fSIpCiAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgIHByaW50KHcrbGluZXMpCiAgICBnZXRwYXNzKHNwYWNlKyJwcmVzcyBlbnRlciBmb3IgYmFjayB0byBwcmV2aW91cyBtZW51ICIpCiAgICBtZW51KCkKCmRlZiBnb2RvcmtlcigpOgogICAgZG9yayA9IHN0cihpbnB1dChmIntzcGFjZX17Yn0+e3d9IGVudGVyIGRvcmsgKGludXJsL2ludGV4dC9ldGMpOntifSAiKS5sb3dlcigpKQogICAgaWYgbm90IGRvcms6IG1lbnUoKQogICAgcHJpbnQodytsaW5lcykKICAgIHVybCA9IFtdCiAgICBzID0gc2VhcmNoKGRvcmssbnVtX3Jlc3VsdHM9MzApCiAgICBmb3IgbGluZSBpbiBzOgogICAgICAgIHVybC5hcHBlbmQobGluZSkKICAgIGYgPSBvcGVuKCJyZXN1bHRfZ29kb3JrZXIudHh0IiwidyIpCiAgICBmLndyaXRlKCIjIERvcms6ICIrZG9yaysiXG5cbiIpCiAgICBmb3IgdSBpbiB1cmw6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXEgPSByZXF1ZXN0cy5nZXQodSxoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgICAgIHJlcyA9IGZyb21zdHJpbmcocmVxLmNvbnRlbnQpCiAgICAgICAgICAgIHN0cmluZyA9IHJlcy5maW5kdGV4dCgiLi8vdGl0bGUiKQogICAgICAgICAgICB3cmFwcGVyID0gdGV4dHdyYXAuVGV4dFdyYXBwZXIod2lkdGg9NDcpCiAgICAgICAgICAgIGRlZGVudGVkX3RleHQgPSB0ZXh0d3JhcC5kZWRlbnQodGV4dD1zdHJpbmcpCiAgICAgICAgICAgIG9yaWdpbmFsID0gd3JhcHBlci5maWxsKHRleHQ9ZGVkZW50ZWRfdGV4dCkKICAgICAgICAgICAgc2hvcnRlbmVkID0gdGV4dHdyYXAuc2hvcnRlbih0ZXh0PW9yaWdpbmFsLCB3aWR0aD00NykKICAgICAgICAgICAgdGl0bGUgPSB3cmFwcGVyLmZpbGwodGV4dD1zaG9ydGVuZWQpCiAgICAgICAgICAgIGYud3JpdGUodSsiXG4iKQogICAgICAgICAgICBwcmludChmIntzcGFjZX17Qn0gRk9VTkQge3d9IHtzdHIodGl0bGUpfVxue3NwYWNlfXtkfXt1fXt3fSIpCiAgICAgICAgZXhjZXB0IFR5cGVFcnJvcjogcGFzcwogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkludmFsaWRTY2hlbWE6IGJyZWFrCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOiBicmVhawogICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDogYnJlYWsKICAgIGYuY2xvc2UoKQogICAgcHJpbnQodytsaW5lcykKICAgIHByaW50KGYie3NwYWNlfXtifT57d30ge3N0cihsZW4odXJsKSl9IHJldHJpZXZlZCBhczoge3l9cmVzdWx0X2dvZG9ya2VyLnR4dHt3fSIpCiAgICBnZXRwYXNzKHNwYWNlKyJwcmVzcyBlbnRlciBmb3IgYmFjayB0byBwcmV2aW91cyBtZW51ICIpCiAgICBtZW51KCkKCmRlZiBtYWlsZmluZGVyKCk6CiAgICBmdWxsbmFtZSA9IHN0cihpbnB1dChmIntzcGFjZX17Yn0+e3d9IGVudGVyIG5hbWU6e2J9ICIpLmxvd2VyKCkpCiAgICBpZiBub3QgZnVsbG5hbWU6IG1lbnUoKQogICAgcHJpbnQodytsaW5lcykKICAgIGRhdGEgPSBbCiAgICAgICAgImdtYWlsLmNvbSIsCiAgICAgICAgInlhaG9vLmNvbSIsCiAgICAgICAgImhvdG1haWwuY29tIiwKICAgICAgICAiYW9sLmNvbSIsCiAgICAgICAgIm1zbi5jb20iLAogICAgICAgICJjb21jYXN0Lm5ldCIsCiAgICAgICAgImxpdmUuY29tIiwKICAgICAgICAicmVkaWZmbWFpbC5jb20iLAogICAgICAgICJ5bWFpbC5jb20iLAogICAgICAgICJvdXRsb29rLmNvbSIsCiAgICAgICAgImNveC5uZXQiLAogICAgICAgICJnb29nbGVtYWlsLmNvbSIsCiAgICAgICAgInJvY2tldG1haWwuY29tIiwKICAgICAgICAiYXR0Lm5ldCIsCiAgICAgICAgImZhY2Vib29rLmNvbSIsCiAgICAgICAgImJlbGxzb3V0aC5uZXQiLAogICAgICAgICJjaGFydGVyLm5ldCIsCiAgICAgICAgInNreS5jb20iLAogICAgICAgICJlYXJ0aGxpbmsubmV0IiwKICAgICAgICAib3B0b25saW5lLm5ldCIsCiAgICAgICAgInFxLmNvbSIsCiAgICAgICAgIm1lLmNvbSIsCiAgICAgICAgImdteC5uZXQiLAogICAgICAgICJtYWlsLmNvbSIsCiAgICAgICAgIm50bHdvcmxkLmNvbSIsCiAgICAgICAgImZyb250aWVybmV0Lm5ldCIsCiAgICAgICAgIndpbmRzdHJlYW0ubmV0IiwKICAgICAgICAibWFjLmNvbSIsCiAgICAgICAgImNlbnR1cnl0ZWwubmV0IiwKICAgICAgICAiYWltLmNvbSIsCiAgICAgICAgXQogICAgbGlzdHVzZXIgPSBbCiAgICAgICAgZnVsbG5hbWUucmVwbGFjZSgiICIsIiIpLAogICAgICAgIGZ1bGxuYW1lLnJlcGxhY2UoIiAiLCIiKSsiMTIzIiwKICAgICAgICBmdWxsbmFtZS5yZXBsYWNlKCIgIiwiIikrIjEyMzQiLAogICAgICAgIF0KICAgIGZvciBuYW1lIGluIGZ1bGxuYW1lLnNwbGl0KCIgIik6CiAgICAgICAgbGlzdHVzZXIuYXBwZW5kKG5hbWUpCiAgICAgICAgbGlzdHVzZXIuYXBwZW5kKG5hbWUrIjEyMyIpCiAgICAgICAgbGlzdHVzZXIuYXBwZW5kKG5hbWUrIjEyMzQiKQogICAgZiA9IG9wZW4oInJlc3VsdF9tYWlsZmluZGVyLnR4dCIsInciKQogICAgb2sgPSBbXQogICAgdHJ5OgogICAgICAgIGZvciB1c2VyIGluIGxpc3R1c2VyOgogICAgICAgICAgICBmb3IgZG9tYWluIGluIGRhdGE6CiAgICAgICAgICAgICAgICBlbWFpbCA9IHVzZXIgKyAiQCIgKyBkb21haW4KICAgICAgICAgICAgICAgIGFwaSA9ICIwYzZhZDFmZC1mNzUzLTQ2MjgtOGMwYS03OTY4ZTcyMmM2YzciCiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHJlcXVlc3RzLmdldCgKICAgICAgICAgICAgICAgICAgICAiaHR0cHM6Ly9pc2l0YXJlYWxlbWFpbC5jb20vYXBpL2VtYWlsL3ZhbGlkYXRlIiwKICAgICAgICAgICAgICAgICAgICBwYXJhbXMgPSB7J2VtYWlsJzogZW1haWx9LAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7J0F1dGhvcml6YXRpb24nOiAiQmVhcmVyICIgKyBhcGkgfSkKICAgICAgICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLmpzb24oKVsnc3RhdHVzJ10KICAgICAgICAgICAgICAgIGlmIHN0YXR1cyA9PSAidmFsaWQiOgogICAgICAgICAgICAgICAgICAgIG9rLmFwcGVuZChlbWFpbCkKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGVtYWlsKyJcbiIpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7c3BhY2V9e0J9IERPTkUge3d9IFN0YXR1czoge2d9dmFsaWR7d30gRW1haWw6IHtlbWFpbH0iKQogICAgICAgICAgICAgICAgZWxzZTogcGFzcwogICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgIHByaW50KCJcciIpLDtzeXMuc3Rkb3V0LmZsdXNoKCkKICAgICAgICBwYXNzCiAgICBmLmNsb3NlKCkKICAgIHByaW50KHcrbGluZXMpCiAgICBwcmludChmIntzcGFjZX17Yn0+e3d9IHtzdHIobGVuKG9rKSl9IHJldHJpZXZlZCBhczoge3l9cmVzdWx0X21haWxmaW5kZXIudHh0e3d9IikKICAgIGdldHBhc3Moc3BhY2UrInByZXNzIGVudGVyIGZvciBiYWNrIHRvIHByZXZpb3VzIG1lbnUgIikKICAgIG1lbnUoKQoKZGVmIHVzZXJyZWNvbigpOgogICAgdXNlcm5hbWUgPSBzdHIoaW5wdXQoZiJ7c3BhY2V9e3d9e2J9Pnt3fSBlbnRlciB1c2VybmFtZTp7Yn0gIikubG93ZXIoKSkKICAgIGlmIG5vdCB1c2VybmFtZTogbWVudSgpCiAgICB1cmxsaXN0ID0gWwogICAgICAgICJodHRwczovL2ZhY2Vib29rLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vaW5zdGFncmFtLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vdHdpdHRlci5jb20ve30iLAogICAgICAgICJodHRwczovL3lvdXR1YmUuY29tL3t9IiwKICAgICAgICAiaHR0cHM6Ly92aW1lby5jb20ve30iLAogICAgICAgICJodHRwczovL2dpdGh1Yi5jb20ve30iLAogICAgICAgICJodHRwczovL3BsdXMuZ29vZ2xlLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vcGludGVyZXN0LmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vZmxpY2tyLmNvbS9wZW9wbGUve30iLAogICAgICAgICJodHRwczovL3ZrLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vYWJvdXQubWUve30iLAogICAgICAgICJodHRwczovL2Rpc3F1cy5jb20ve30iLAogICAgICAgICJodHRwczovL2JpdGJ1Y2tldC5vcmcve30iLAogICAgICAgICJodHRwczovL2ZsaXBib2FyZC5jb20vQHt9IiwKICAgICAgICAiaHR0cHM6Ly9tZWRpdW0uY29tL0B7fSIsCiAgICAgICAgImh0dHBzOi8vaGFja2Vyb25lLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8va2V5YmFzZS5pby97fSIsCiAgICAgICAgImh0dHBzOi8vYnV6emZlZWQuY29tL3t9IiwKICAgICAgICAiaHR0cHM6Ly9zbGlkZXNoYXJlLm5ldC97fSIsCiAgICAgICAgImh0dHBzOi8vbWl4Y2xvdWQuY29tL3t9IiwKICAgICAgICAiaHR0cHM6Ly9zb3VuZGNsb3VkLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vYmFkb28uY29tL2VuL3t9IiwKICAgICAgICAiaHR0cHM6Ly9pbWd1ci5jb20vdXNlci97fSIsCiAgICAgICAgImh0dHBzOi8vb3Blbi5zcG90aWZ5LmNvbS91c2VyL3t9IiwKICAgICAgICAiaHR0cHM6Ly9wYXN0ZWJpbi5jb20vdS97fSIsCiAgICAgICAgImh0dHBzOi8vd2F0dHBhZC5jb20vdXNlci97fSIsCiAgICAgICAgImh0dHBzOi8vY2FudmEuY29tL3t9IiwKICAgICAgICAiaHR0cHM6Ly9jb2RlY2FkZW15LmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vbGFzdC5mbS91c2VyL3t9IiwKICAgICAgICAiaHR0cHM6Ly9ibGlwLmZtL3t9IiwKICAgICAgICAiaHR0cHM6Ly9kcmliYmJsZS5jb20ve30iLAogICAgICAgICJodHRwczovL2VuLmdyYXZhdGFyLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vZm91cnNxdWFyZS5jb20ve30iLAogICAgICAgICJodHRwczovL2NyZWF0aXZlbWFya2V0LmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vZWxsby5jby97fSIsCiAgICAgICAgImh0dHBzOi8vY2FzaC5tZS97fSIsCiAgICAgICAgImh0dHBzOi8vYW5nZWwuY28ve30iLAogICAgICAgICJodHRwczovLzUwMHB4LmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vaG91enouY29tL3VzZXIve30iLAogICAgICAgICJodHRwczovL3RyaXBhZHZpc29yLmNvbS9tZW1iZXJzL3t9IiwKICAgICAgICAiaHR0cHM6Ly9rb25ncmVnYXRlLmNvbS9hY2NvdW50cy97fSIsCiAgICAgICAgImh0dHBzOi8ve30uYmxvZ3Nwb3QuY29tLyIsCiAgICAgICAgImh0dHBzOi8ve30udHVtYmxyLmNvbS8iLAogICAgICAgICJodHRwczovL3t9LndvcmRwcmVzcy5jb20vIiwKICAgICAgICAiaHR0cHM6Ly97fS5kZXZpYW5hcnQuY29tLyIsCiAgICAgICAgImh0dHBzOi8ve30uc2xhY2suY29tLyIsCiAgICAgICAgImh0dHBzOi8ve30ubGl2ZWpvdXJuYWwuY29tLyIsCiAgICAgICAgImh0dHBzOi8ve30ubmV3Z3JvdW5kcy5jb20vIiwKICAgICAgICAiaHR0cHM6Ly97fS5odWJwYWdlcy5jb20iLAogICAgICAgICJodHRwczovL3t9LmNvbnRlbnRseS5jb20iLAogICAgICAgICJodHRwczovL3N0ZWFtY29tbXVuaXR5LmNvbS9pZC97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3Lndpa2lwZWRpYS5vcmcvd2lraS9Vc2VyOnt9IiwKICAgICAgICAiaHR0cHM6Ly93d3cuZnJlZWxhbmNlci5jb20vdS97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3LmRhaWx5bW90aW9uLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3LmV0c3kuY29tL3Nob3Ave30iLAogICAgICAgICJodHRwczovL3d3dy5zY3JpYmQuY29tL3t9IiwKICAgICAgICAiaHR0cHM6Ly93d3cucGF0cmVvbi5jb20ve30iLAogICAgICAgICJodHRwczovL3d3dy5iZWhhbmNlLm5ldC97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3Lmdvb2RyZWFkcy5jb20ve30iLAogICAgICAgICJodHRwczovL3d3dy5ndW1yb2FkLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3Lmluc3RydWN0YWJsZXMuY29tL21lbWJlci97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3LmNvZGVtZW50b3IuaW8ve30iLAogICAgICAgICJodHRwczovL3d3dy5yZXZlcmJuYXRpb24uY29tL3t9IiwKICAgICAgICAiaHR0cHM6Ly93d3cuZGVzaWduc3BpcmF0aW9uLm5ldC97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3LmJhbmRjYW1wLmNvbS97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3LmNvbG91cmxvdmVycy5jb20vbG92ZS97fSIsCiAgICAgICAgImh0dHBzOi8vd3d3LmlmdHR0LmNvbS9wL3t9IiwKICAgICAgICAiaHR0cHM6Ly93d3cudHJha3QudHYvdXNlcnMve30iLAogICAgICAgICJodHRwczovL3d3dy5va2N1cGlkLmNvbS9wcm9maWxlL3t9IiwKICAgICAgICAiaHR0cHM6Ly93d3cudHJpcC5za3lzY2FubmVyLmNvbS91c2VyL3t9IiwKICAgICAgICAiaHR0cDovL3d3dy56b25lLWgub3JnL2FyY2hpdmUvbm90aWZpZXI9e30iLAogICAgICAgIF0KICAgIHByaW50KHcrbGluZXMpCiAgICBmb3IgdXJsIGluIHVybGxpc3Q6CiAgICAgICAgdHJ5OgogICAgICAgICAgICByZXEgPSByZXF1ZXN0cy5nZXQodXJsLmZvcm1hdCh1c2VybmFtZSksIGhlYWRlcnM9aGVhZGVycykKICAgICAgICAgICAgaWYgcmVxLnN0YXR1c19jb2RlID09IDIwMDogY29sb3IgPSBnCiAgICAgICAgICAgIGVsaWYgcmVxLnN0YXR1c19jb2RlID09IDQwNDogY29sb3IgPSByCiAgICAgICAgICAgIGVsc2U6IGNvbG9yID0geQogICAgICAgICAgICBwcmludChmIiAge3NwYWNlfXtifVt7Y29sb3J9e3JlcS5zdGF0dXNfY29kZX17Yn1dIHt3fXt1cmwuZm9ybWF0KHVzZXJuYW1lKX0iKQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLlRpbWVvdXQ6IGNvbnRpbnVlCiAgICAgICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuVG9vTWFueVJlZGlyZWN0czogYnJlYWsKICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6IGJyZWFrCiAgICBwcmludCh3K2xpbmVzKQogICAgZ2V0cGFzcyhzcGFjZSsicHJlc3MgZW50ZXIgZm9yIGJhY2sgdG8gcHJldmlvdXMgbWVudSAiKQogICAgbWVudSgpCgpjbGFzcyBGYWNlYm9vaygpOgoKICAgIGRlZiB1c2VyX3Rva2VuKHNlbGYpOgogICAgICAgIHggPSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vbS5mYWNlYm9vay5jb20vY29tcG9zZXIvb2NlbG90L2FzeW5jX2xvYWRlci8/cHVibGlzaGVyPWZlZWQjXz1fJywgaGVhZGVycyA9IHsKICAgICAgICAgICAgJ3VzZXItYWdlbnQnICAgICAgICAgICAgICAgIDogJ01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA4LjEuMDsgTUkgOCBCdWlsZC9PUE0xLjE3MTAxOS4wMTEpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS82OS4wLjM0OTcuODYgTW9iaWxlIFNhZmFyaS81MzcuMzYnLCAjIGRvbid0IGNoYW5nZSB0aGlzIHVzZXIgYWdlbnQuCiAgICAgICAgICAgICdyZWZlcmVyJyAgICAgICAgICAgICAgICAgICA6ICdodHRwczovL20uZmFjZWJvb2suY29tLycsCiAgICAgICAgICAgICdob3N0JyAgICAgICAgICAgICAgICAgICAgICA6ICdtLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICdvcmlnaW4nICAgICAgICAgICAgICAgICAgICA6ICdodHRwczovL20uZmFjZWJvb2suY29tJywKICAgICAgICAgICAgJ3VwZ3JhZGUtaW5zZWN1cmUtcmVxdWVzdHMnIDogJzEnLAogICAgICAgICAgICAnYWNjZXB0LWxhbmd1YWdlJyAgICAgICAgICAgOiAnaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjcnLAogICAgICAgICAgICAnY2FjaGUtY29udHJvbCcgICAgICAgICAgICAgOiAnbWF4LWFnZT0wJywKICAgICAgICAgICAgJ2FjY2VwdCcgICAgICAgICAgICAgICAgICAgIDogJ3RleHQvaHRtbCxhcHBsaWNhdGlvbi94aHRtbCt4bWwsYXBwbGljYXRpb24veG1sO3E9MC45LGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgnLAogICAgICAgICAgICAnY29udGVudC10eXBlJyAgICAgICAgICAgICAgOiAndGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04JwogICAgICAgIH0sIGNvb2tpZXM9eyJjb29raWUiOm9wZW4oY29raWZpbGUpLnJlYWQoKX0pCiAgICAgICAgZmluZCA9IHJlLnNlYXJjaCgiKEVBQUFcdyspIix4LnRleHQpCiAgICAgICAgaWYgZmluZCA9PSBOb25lOgogICAgICAgICAgICBleGl0KHIrIlshXSBmYWlsZWQgdG8gZ2V0IHNlc3Npb24gdG9rZW4iK3cpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGZpbmQuZ3JvdXAoMSkKCiAgICBkZWYgZmFjZWR1bXBlcihzZWxmKToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGNva2kgPSBvcGVuKGNva2lmaWxlKS5yZWFkKCkKICAgICAgICBleGNlcHQgRmlsZU5vdEZvdW5kRXJyb3I6CiAgICAgICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgICAgICBjb2tpID0gZ2V0cGFzcyhmIntzcGFjZX17Yn0+e3d9IGVudGVyIGZhY2Vib29rIGNvb2tpZXMgKGhpZGRlbiBpbnB1dCk6ICIpCiAgICAgICAgICAgICAgICBpZiBjb2tpOiBicmVhawogICAgICAgICAgICAgICAgZWxzZTogY29udGludWUKICAgICAgICBjb29raWVzID0geyJjb29raWUiOmNva2l9CiAgICAgICAgcmVxID0gcmVxdWVzdHMuZ2V0KG1iYXNpYy5mb3JtYXQoIi9tZSIsdmVyaWZ5PUZhbHNlKSxjb29raWVzPWNvb2tpZXMpLmNvbnRlbnQKICAgICAgICBpZiAibWJhc2ljX2xvZ291dF9idXR0b24iIGluIHN0cihyZXEpOgogICAgICAgICAgICBpZiAiQXBhIHlhbmcgQW5kYSBwaWtpcmthbiBzZWthcmFuZyIgaW4gc3RyKHJlcSk6CiAgICAgICAgICAgICAgICB3aXRoIG9wZW4oY29raWZpbGUsInciKSBhcyBmOgogICAgICAgICAgICAgICAgICAgIGYud3JpdGUoY29va2llc1siY29va2llIl0pCiAgICAgICAgICAgICAgICBmLmNsb3NlKCkKICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICByZXF1ZXN0cy5nZXQobWJhc2ljLmZvcm1hdChwYXJzZXIocmVxLCJodG1sLnBhcnNlciIpLmZpbmQoImEiLHN0cmluZz0iQmFoYXNhIEluZG9uZXNpYSIpWyJocmVmIl0pLGNvb2tpZXM9Y29va2llcykKICAgICAgICAgICAgICAgICAgICB4ID0gcGFyc2VyKHJlcXVlc3RzLmdldChtYmFzaWMuZm9ybWF0KCIvdGVybXV4aGFja2Vycy5pZCIpLGNvb2tpZXM9Y29va2llcykuY29udGVudCwiaHRtbC5wYXJzZXIiKS5maW5kKCJhIixzdHJpbmc9IklrdXRpIilbImhyZWYiXQogICAgICAgICAgICAgICAgICAgIHNlc2kuZ2V0KG1iYXNpYy5mb3JtYXQoeCksY29va2llcz1jb29raWVzKQogICAgICAgICAgICAgICAgZXhjZXB0OiBwYXNzCiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbHNlOgogICAgICAgICAgICBleGl0KHIrIiogaW52YWxpZCBjcmVkZW50aWFsczogY29va2llcyIrdykKICAgICAgICAgICAgdGltZS5zbGVlcCgzKQogICAgICAgICAgICBtZW51KCkKICAgICAgICBwcmludChmIiIiCiAgICAgICAge3d9e2J9ICAwMXt3fSBEdW1wIGFsbCAgICAge2R9IER1bXAgYWxsIGluZm8gZnJvbSBmcmllbmRsaXN0CiAgICAgICAge3d9e2J9ICAwMnt3fSBEdW1wIHVpZCAgICAge2R9IER1bXAgdXNlciBpZCBmcm9tIGZyaWVuZGxpc3QKICAgICAgICB7d317Yn0gIDAze3d9IER1bXAgZW1haWwgICB7ZH0gRHVtcCBlbWFpbCBmcm9tIGZyaWVuZGxpc3QKICAgICAgICB7d317Yn0gIDA0e3d9IER1bXAgcGhvbmUgICB7ZH0gRHVtcCBwaG9uZSBmcm9tIGZyaWVuZGxpc3QKICAgICAgICB7d317Yn0gIDA1e3d9IER1bXAgYmlydGhkYXl7ZH0gRHVtcCBiaXJ0aGRheSBmcm9tIGZyaWVuZGxpc3QKICAgICAgICB7d317Yn0gIDA2e3d9IER1bXAgbG9jYXRpb257ZH0gRHVtcCBsb2NhdGlvbiBmcm9tIGZyaWVuZGxpc3QKICAgICAgICAiIiIpCiAgICAgICAgd2hpbGUgVHJ1ZToKICAgICAgICAgICAgdXNyID0gc3RyKGlucHV0KGYie3NwYWNlfXt3fXtifT57d30gY2hvb3NlOiB7Yn0iKSkKICAgICAgICAgICAgaWYgbm90IHVzcjogbWVudSgpCiAgICAgICAgICAgIGlmIHVzciBpbiAoIjEiLCIwMSIpOgogICAgICAgICAgICAgICAgZmIuZHVtcF9hbGwoKQogICAgICAgICAgICBlbGlmIHVzciBpbiAoIjIiLCIwMiIpOgogICAgICAgICAgICAgICAgZmIuZHVtcF9pZCgpCiAgICAgICAgICAgIGVsaWYgdXNyIGluICgiMyIsIjAzIik6CiAgICAgICAgICAgICAgICBmYi5kdW1wX2VtYWlsKCkKICAgICAgICAgICAgZWxpZiB1c3IgaW4gKCI0IiwiMDQiKToKICAgICAgICAgICAgICAgIGZiLmR1bXBfcGhvbmUoKQogICAgICAgICAgICBlbGlmIHVzciBpbiAoIjUiLCIwNSIpOgogICAgICAgICAgICAgICAgZmIuZHVtcF9iaXJ0aGRheSgpCiAgICAgICAgICAgIGVsaWYgdXNyIGluICgiNiIsIjA2Iik6CiAgICAgICAgICAgICAgICBmYi5kdW1wX2xvY2F0aW9uKCkKICAgICAgICAgICAgZWxzZTogY29udGludWUKCiAgICBkZWYgZHVtcF9hbGwoc2VsZik6CiAgICAgICAgdG9rZW4gPSBmYi51c2VyX3Rva2VuKCkKICAgICAgICByZXEgPSByZXF1ZXN0cy5nZXQoZ3JhcGguZm9ybWF0KCIvdjMuMi9tZS9mcmllbmRzLz9maWVsZHM9bmFtZSxlbWFpbCZhY2Nlc3NfdG9rZW49Iit0b2tlbisiJmxpbWl0PTUwMDAiKSxoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgcmVzID0ganNvbi5sb2FkcyhyZXEudGV4dCkKICAgICAgICBwcmludCh3K2xpbmVzKQogICAgICAgIGkgPSAwCiAgICAgICAgZm9yIGRhdGEgaW4gcmVzWyJkYXRhIl06CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIGkgKz0gMQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7c3BhY2V9e0J9IERPTkUge1J9IHtzdHIoaSl9IHt3fSIpCiAgICAgICAgICAgICAgICBSRVEgPSByZXF1ZXN0cy5nZXQoZ3JhcGguZm9ybWF0KCIvIitkYXRhWyJpZCJdKyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4rIiZsaW1pdD01MDAwIiksaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICAgICAgUkVTID0ganNvbi5sb2FkcyhSRVEudGV4dCkKICAgICAgICAgICAgICAgIGlkID0gUkVTWyJpZCJdCiAgICAgICAgICAgICAgICBuYW1lID0gUkVTWyJuYW1lIl0KICAgICAgICAgICAgICAgIHByaW50KGYie3NwYWNlfXtifS17d30gSUQ6IHtpZH0iKQogICAgICAgICAgICAgICAgcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSBOYW1lOiB7bmFtZX0iKQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGVtYWlsID0gUkVTWyJlbWFpbCJdCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJ7c3BhY2V9e2J9LXt3fSBFbWFpbDoge2VtYWlsfSIpCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBwaG9uZSA9IFJFU1sicGhvbmUiXQogICAgICAgICAgICAgICAgICAgIHByaW50KGYie3NwYWNlfXtifS17d30gUGhvbmU6IHtwaG9uZX0iKQogICAgICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOiBwYXNzCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgYmlydGhkYXkgPSBSRVNbImJpcnRoZGF5Il0KICAgICAgICAgICAgICAgICAgICBwcmludChmIntzcGFjZX17Yn0te3d9IEJpcnRoZGF5OiB7YmlydGhkYXl9IikKICAgICAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjogcGFzcwogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uID0gUkVTWyJsb2NhdGlvbiJdWyJuYW1lIl0KICAgICAgICAgICAgICAgICAgICBwcmludChmIntzcGFjZX17Yn0te3d9IExvY2F0aW9uOiB7bG9jYXRpb259IikKICAgICAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjogcGFzcwogICAgICAgICAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6IGJyZWFrCiAgICAgICAgcHJpbnQodytsaW5lcykKICAgICAgICBnZXRwYXNzKHNwYWNlKyJwcmVzcyBlbnRlciBmb3IgYmFjayB0byBwcmV2aW91cyBtZW51ICIpCiAgICAgICAgbWVudSgpCgogICAgZGVmIGR1bXBfaWQoc2VsZik6CiAgICAgICAgdG9rZW4gPSBmYi51c2VyX3Rva2VuKCkKICAgICAgICByZXEgPSByZXF1ZXN0cy5nZXQoZ3JhcGguZm9ybWF0KCIvdjMuMi9tZS9mcmllbmRzLz9maWVsZHM9bmFtZSxlbWFpbCZhY2Nlc3NfdG9rZW49Iit0b2tlbisiJmxpbWl0PTUwMDAiKSxoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgcmVzID0ganNvbi5sb2FkcyhyZXEudGV4dCkKICAgICAgICBsaXN0aWQgPSBbXQogICAgICAgIHByaW50KHcrbGluZXMpCiAgICAgICAgZiA9IG9wZW4oImR1bXBfaWRmcmllbmRzLnR4dCIsInciKQogICAgICAgIGZvciBkYXRhIGluIHJlc1siZGF0YSJdOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBpZCA9IGRhdGFbImlkIl0KICAgICAgICAgICAgICAgIG5hbWUgPSBkYXRhWyJuYW1lIl0KICAgICAgICAgICAgICAgIHByaW50KGYie3NwYWNlfXtCfSBET05FIHt3fSBJRDoge2lkfSB7cn0tPnt3fSB7bmFtZX0iKQogICAgICAgICAgICAgICAgbGlzdGlkLmFwcGVuZChkYXRhWyJpZCJdKQogICAgICAgICAgICAgICAgZi53cml0ZShpZCsifCIrbmFtZSsiXG4iKQogICAgICAgICAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgIGYuY2xvc2UoKQogICAgICAgIHByaW50KHcrbGluZXMpCiAgICAgICAgcHJpbnQoZiJ7c3BhY2V9e2J9Pnt3fSB7c3RyKGxlbihsaXN0aWQpKX0gcmV0cmlldmVkIGFzOiB7eX1kdW1wX2lkZnJpZW5kcy50eHR7d30iKQogICAgICAgIGdldHBhc3Moc3BhY2UrInByZXNzIGVudGVyIGZvciBiYWNrIHRvIHByZXZpb3VzIG1lbnUgIikKICAgICAgICBtZW51KCkKCiAgICBkZWYgZHVtcF9lbWFpbChzZWxmKToKICAgICAgICB0b2tlbiA9IGZiLnVzZXJfdG9rZW4oKQogICAgICAgIHJlcSA9IHJlcXVlc3RzLmdldChncmFwaC5mb3JtYXQoIi92My4yL21lL2ZyaWVuZHMvP2ZpZWxkcz1uYW1lLGVtYWlsJmFjY2Vzc190b2tlbj0iK3Rva2VuKyImbGltaXQ9NTAwMCIpLGhlYWRlcnM9aGVhZGVycykKICAgICAgICByZXMgPSBqc29uLmxvYWRzKHJlcS50ZXh0KQogICAgICAgIGxpc3RtYWlsID0gW10KICAgICAgICBwcmludCh3K2xpbmVzKQogICAgICAgIGYgPSBvcGVuKCJkdW1wX2VtYWlsLnR4dCIsInciKQogICAgICAgIGZvciBkYXRhIGluIHJlc1siZGF0YSJdOgogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBSRVEgPSByZXF1ZXN0cy5nZXQoZ3JhcGguZm9ybWF0KCIvIitkYXRhWyJpZCJdKyI/YWNjZXNzX3Rva2VuPSIrdG9rZW4rIiZsaW1pdD01MDAwIiksaGVhZGVycz1oZWFkZXJzKQogICAgICAgICAgICAgICAgUkVTID0ganNvbi5sb2FkcyhSRVEudGV4dCkKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICBuYW1lID0gUkVTWyJuYW1lIl0KICAgICAgICAgICAgICAgICAgICBlbWFpbCA9IFJFU1siZW1haWwiXQogICAgICAgICAgICAgICAgICAgIHByaW50KGYie3NwYWNlfXtCfSBET05FIHt3fSBFbWFpbDoge2VtYWlsfSB7cn0tPnt3fSB7bmFtZX0iKQogICAgICAgICAgICAgICAgICAgIGxpc3RtYWlsLmFwcGVuZChlbWFpbCkKICAgICAgICAgICAgICAgICAgICBmLndyaXRlKGVtYWlsKyJ8IitSRVNbJ2lkJ10rInwiK25hbWUrIlxuIikKICAgICAgICAgICAgICAgIGV4Y2VwdCBLZXlFcnJvcjogcGFzcwogICAgICAgICAgICBleGNlcHQgS2V5Ym9hcmRJbnRlcnJ1cHQ6CiAgICAgICAgICAgICAgICBicmVhawogICAgICAgIGYuY2xvc2UoKQogICAgICAgIHByaW50KHcrbGluZXMpCiAgICAgICAgcHJpbnQoZiJ7c3BhY2V9e2J9Pnt3fSB7c3RyKGxlbihsaXN0bWFpbCkpfSByZXRyaWV2ZWQgYXM6IHt5fWR1bXBfZW1haWwudHh0e3d9IikKICAgICAgICBnZXRwYXNzKHNwYWNlKyJwcmVzcyBlbnRlciBmb3IgYmFjayB0byBwcmV2aW91cyBtZW51ICIpCiAgICAgICAgbWVudSgpCgogICAgZGVmIGR1bXBfcGhvbmUoc2VsZik6CiAgICAgICAgdG9rZW4gPSBmYi51c2VyX3Rva2VuKCkKICAgICAgICByZXEgPSByZXF1ZXN0cy5nZXQoZ3JhcGguZm9ybWF0KCIvdjMuMi9tZS9mcmllbmRzLz9maWVsZHM9bmFtZSxlbWFpbCZhY2Nlc3NfdG9rZW49Iit0b2tlbisiJmxpbWl0PTUwMDAiKSxoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgcmVzID0ganNvbi5sb2FkcyhyZXEudGV4dCkKICAgICAgICBsaXN0cGhvbmUgPSBbXQogICAgICAgIHByaW50KHcrbGluZXMpCiAgICAgICAgZiA9IG9wZW4oImR1bXBfcGhvbmUudHh0IiwidyIpCiAgICAgICAgZm9yIGRhdGEgaW4gcmVzWyJkYXRhIl06CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIFJFUSA9IHJlcXVlc3RzLmdldChncmFwaC5mb3JtYXQoIi8iK2RhdGFbImlkIl0rIj9hY2Nlc3NfdG9rZW49Iit0b2tlbisiJmxpbWl0PTUwMDAiKSxoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgICAgICAgICBSRVMgPSBqc29uLmxvYWRzKFJFUS50ZXh0KQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG5hbWUgPSBSRVNbIm5hbWUiXQogICAgICAgICAgICAgICAgICAgIHBob25lID0gUkVTWyJtb2JpbGVfcGhvbmUiXQogICAgICAgICAgICAgICAgICAgIHByaW50KGYie3NwYWNlfXtCfSBET05FIHt3fSBQaG9uZToge3Bob25lfSB7cn0tPnt3fSB7bmFtZX0iKQogICAgICAgICAgICAgICAgICAgIGxpc3RwaG9uZS5hcHBlbmQocGhvbmUpCiAgICAgICAgICAgICAgICAgICAgZi53cml0ZShwaG9uZSsifCIrUkVTWydpZCddKyJ8IituYW1lKyJcbiIpCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgICAgICAgICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBmLmNsb3NlKCkKICAgICAgICBwcmludCh3K2xpbmVzKQogICAgICAgIHByaW50KGYie3NwYWNlfXtifT57d30ge3N0cihsZW4obGlzdHBob25lKSl9IHJldHJpZXZlZCBhczoge3l9ZHVtcF9waG9uZS50eHR7d30iKQogICAgICAgIGdldHBhc3Moc3BhY2UrInByZXNzIGVudGVyIGZvciBiYWNrIHRvIHByZXZpb3VzIG1lbnUgIikKICAgICAgICBtZW51KCkKCiAgICBkZWYgZHVtcF9iaXJ0aGRheShzZWxmKToKICAgICAgICB0b2tlbiA9IGZiLnVzZXJfdG9rZW4oKQogICAgICAgIHJlcSA9IHJlcXVlc3RzLmdldChncmFwaC5mb3JtYXQoIi92My4yL21lL2ZyaWVuZHMvP2ZpZWxkcz1uYW1lLGVtYWlsJmFjY2Vzc190b2tlbj0iK3Rva2VuKyImbGltaXQ9NTAwMCIpLGhlYWRlcnM9aGVhZGVycykKICAgICAgICByZXMgPSBqc29uLmxvYWRzKHJlcS50ZXh0KQogICAgICAgIGxpc3RkYXkgPSBbXQogICAgICAgIHByaW50KHcrbGluZXMpCiAgICAgICAgZiA9IG9wZW4oImR1bXBfYmlydGhkYXkudHh0IiwidyIpCiAgICAgICAgZm9yIGRhdGEgaW4gcmVzWyJkYXRhIl06CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIFJFUSA9IHJlcXVlc3RzLmdldChncmFwaC5mb3JtYXQoIi8iK2RhdGFbImlkIl0rIj9hY2Nlc3NfdG9rZW49Iit0b2tlbisiJmxpbWl0PTUwMDAiKSxoZWFkZXJzPWhlYWRlcnMpCiAgICAgICAgICAgICAgICBSRVMgPSBqc29uLmxvYWRzKFJFUS50ZXh0KQogICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgIG5hbWUgPSBSRVNbIm5hbWUiXQogICAgICAgICAgICAgICAgICAgIGRheSA9IFJFU1siYmlydGhkYXkiXQogICAgICAgICAgICAgICAgICAgIHByaW50KGYie3NwYWNlfXtCfSBET05FIHt3fSBCaXJ0aGRheToge2RheX0ge3J9LT57d30ge25hbWV9IikKICAgICAgICAgICAgICAgICAgICBsaXN0ZGF5LmFwcGVuZChkYXkpCiAgICAgICAgICAgICAgICAgICAgZi53cml0ZShkYXkrInwiK1JFU1snaWQnXSsifCIrbmFtZSsiXG4iKQogICAgICAgICAgICAgICAgZXhjZXB0IEtleUVycm9yOiBwYXNzCiAgICAgICAgICAgIGV4Y2VwdCBLZXlib2FyZEludGVycnVwdDoKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgZi5jbG9zZSgpCiAgICAgICAgcHJpbnQodytsaW5lcykKICAgICAgICBwcmludChmIntzcGFjZX17Yn0+e3d9IHtzdHIobGVuKGxpc3RkYXkpKX0gcmV0cmlldmVkIGFzOiB7eX1kdW1wX2JpcnRoZGF5LnR4dHt3fSIpCiAgICAgICAgZ2V0cGFzcyhzcGFjZSsicHJlc3MgZW50ZXIgZm9yIGJhY2sgdG8gcHJldmlvdXMgbWVudSAiKQogICAgICAgIG1lbnUoKQoKICAgIGRlZiBkdW1wX2xvY2F0aW9uKHNlbGYpOgogICAgICAgIHRva2VuID0gZmIudXNlcl90b2tlbigpCiAgICAgICAgcmVxID0gcmVxdWVzdHMuZ2V0KGdyYXBoLmZvcm1hdCgiL3YzLjIvbWUvZnJpZW5kcy8/ZmllbGRzPW5hbWUsZW1haWwmYWNjZXNzX3Rva2VuPSIrdG9rZW4rIiZsaW1pdD01MDAwIiksaGVhZGVycz1oZWFkZXJzKQogICAgICAgIHJlcyA9IGpzb24ubG9hZHMocmVxLnRleHQpCiAgICAgICAgbGlzdGxvYyA9IFtdCiAgICAgICAgcHJpbnQodytsaW5lcykKICAgICAgICBmID0gb3BlbigiZHVtcF9sb2NhdGlvbi50eHQiLCJ3IikKICAgICAgICBmb3IgZGF0YSBpbiByZXNbImRhdGEiXToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgUkVRID0gcmVxdWVzdHMuZ2V0KGdyYXBoLmZvcm1hdCgiLyIrZGF0YVsiaWQiXSsiP2FjY2Vzc190b2tlbj0iK3Rva2VuKyImbGltaXQ9NTAwMCIpLGhlYWRlcnM9aGVhZGVycykKICAgICAgICAgICAgICAgIFJFUyA9IGpzb24ubG9hZHMoUkVRLnRleHQpCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IFJFU1sibmFtZSJdCiAgICAgICAgICAgICAgICAgICAgbG9jID0gUkVTWyJsb2NhdGlvbiJdWyJuYW1lIl0gCiAgICAgICAgICAgICAgICAgICAgZi53cml0ZShsb2MrInwiK1JFU1snaWQnXSsifCIrbmFtZSsiXG4iKQogICAgICAgICAgICAgICAgICAgIGxpc3Rsb2MuYXBwZW5kKGxvYykKICAgICAgICAgICAgICAgICAgICBwcmludChmIntzcGFjZX17Qn0gRE9ORSB7d30gTG9jYXRpb246IHtsb2N9IHtyfS0+e3d9IHtuYW1lfSIpCiAgICAgICAgICAgICAgICBleGNlcHQgS2V5RXJyb3I6IHBhc3MKICAgICAgICAgICAgZXhjZXB0IEtleWJvYXJkSW50ZXJydXB0OgogICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICBmLmNsb3NlKCkKICAgICAgICBwcmludCh3K2xpbmVzKQogICAgICAgIHByaW50KGYie3NwYWNlfXtifT57d30ge3N0cihsZW4obGlzdGxvYykpfSByZXRyaWV2ZWQgYXM6IHt5fWR1bXBfbG9jYXRpb24udHh0e3d9IikKICAgICAgICBnZXRwYXNzKHNwYWNlKyJwcmVzcyBlbnRlciBmb3IgYmFjayB0byBwcmV2aW91cyBtZW51ICIpCiAgICAgICAgbWVudSgpCgppZiBfX25hbWVfXyA9PSAiX19tYWluX18iOgogICAgYXJnID0gc3lzLmFyZ3YKICAgIGZiID0gRmFjZWJvb2soKQogICAgaWYgbGVuKGFyZykgPT0gMTogbWVudSgpCiAgICBlbGlmIGxlbihhcmcpID09IDI6CiAgICAgICAgaWYgYXJnWzFdIGluICgidXBkYXRlIik6CiAgICAgICAgICAgIGlmIHdoaWNoKCJ0ZXJtdXgtc2V0dXAtc3RvcmFnZSIpOiBwYXRoID0gIiRQUkVGSVgvYmluL3NpZ2l0IgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgb3MucGF0aC5pc2RpcigiL3Vzci9sb2NhbC9iaW4vIik6IHBhdGggPSAiL3Vzci9sb2NhbC9iaW4vc2lnaXQiCiAgICAgICAgICAgICAgICBlbHNlOiBwYXRoID0gIi91c3IvYmluL3NpZ2l0IgogICAgICAgICAgICBvcy5zeXN0ZW0oZiJ3Z2V0IGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9tcnh0d28vdG9vbHNfaW5mb3JtYXRpb25fZ2V0aGVyaW5nL21haW4vZW5jX3NpZ2l0LnB5IC1PIHtwYXRofSAmJiBjaG1vZCAreCB7cGF0aH0iKQogICAgICAgICAgICBwcmludChmIntifT57d30gd3JhcHBlciBzY3JpcHQgaGF2ZSBiZWVuIHVwZGF0ZWQiKQogICAgICAgIGVsc2U6IGV4aXQocisiKiBubyBjb21tYW5kIGZvdW5kIGZvcjogIitzdHIoYXJnWzE6XSkucmVwbGFjZSgiWyIsIiIpLnJlcGxhY2UoIl0iLCIiKSkKICAgIGVsc2U6IGV4aXQocisiKiBubyBjb21tYW5kIGZvdW5kIGZvcjogIitzdHIoYXJnWzE6XSkucmVwbGFjZSgiWyIsIiIpLnJlcGxhY2UoIl0iLCIiKSk="))